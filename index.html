<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>佳咊配方管理系統</title>

  <!-- Vue 3 CDN -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

  <!-- Element Plus CDN -->
  <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css" />
  <script src="https://unpkg.com/element-plus/dist/index.full.js"></script>

  <!-- Element Plus Icons -->
  <script src="https://unpkg.com/@element-plus/icons-vue"></script>

  <style>
    body, html {
      margin: 0;
      height: 100%;
      font-family: Arial, sans-serif;
    }

    #app {
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    /* 頂部抬頭 */
    .header {
      height: 60px;
      background-color: #2c3e50;
      color: white;
      display: flex;
      align-items: center;
      padding: 0 20px;
      font-size: 20px;
      box-sizing: border-box;
    }

    /* 主體區域 */
    .main {
      display: flex;
      flex: 1;
      overflow: hidden;
    }

    /* 左側功能列 */
    .sidebar {
      width: 250px;
      background-color: #f5f5f5;
      padding: 10px;
      box-sizing: border-box;
      overflow-y: auto;
    }

    /* 右側 iframe */
    .content {
      flex: 1;
      height: 100%;
    }

    .content iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
  </style>
</head>
<body>
<div id="app">
  <!-- 頂部抬頭 -->
  <div class="header">
    佳咊配方管理系統
  </div>

  <!-- 主體區域 -->
  <div class="main">
    <!-- 左側選單 -->
    <div class="sidebar">
      <el-menu
        default-active="1-1"
        class="el-menu-vertical-demo"
        @select="handleSelect"
        router
      >
        <el-sub-menu index="1">
          <template #title><el-icon><ColorPalette /></el-icon> 色粉管理</template>
          <el-menu-item index="1-1">色粉管理</el-menu-item>
        </el-sub-menu>

        <el-menu-item index="2"><el-icon><User /></el-icon> 客戶</el-menu-item>

        <el-sub-menu index="3">
          <template #title><el-icon><Document /></el-icon> 配方管理</template>
          <el-menu-item index="3-1">客戶名單</el-menu-item>
          <el-menu-item index="3-2">配方管理</el-menu-item>
        </el-sub-menu>

        <el-sub-menu index="4">
          <template #title><el-icon><Box /></el-icon> 生產管理</template>
          <el-menu-item index="4-1"><el-icon><Document /></el-icon> 生產單</el-menu-item>
          <el-menu-item index="4-2"><el-icon><Share /></el-icon> 代工排程</el-menu-item>
        </el-sub-menu>

        <el-menu-item index="5"><el-icon><Search /></el-icon> 查詢區</el-menu-item>

        <el-sub-menu index="6">
          <template #title><el-icon><Storage /></el-icon> 庫存管理</template>
          <el-menu-item index="6-1">期初庫存</el-menu-item>
          <el-menu-item index="6-2">用量查詢/排行榜</el-menu-item>
          <el-menu-item index="6-3">庫存查詢</el-menu-item>
        </el-sub-menu>

        <el-menu-item index="7"><el-icon><ShoppingCart /></el-icon> 採購管理</el-menu-item>
        <el-menu-item index="8"><el-icon><Money /></el-icon> 銷售管理</el-menu-item>
        <el-menu-item index="9"><el-icon><Finance /></el-icon> 會計系統</el-menu-item>
        <el-menu-item index="10"><el-icon><User /></el-icon> 人力資源</el-menu-item>
      </el-menu>
    </div>

    <!-- 右側 iframe -->
    <div class="content">
      <iframe :src="iframeUrl" title="配方管理系統"></iframe>
    </div>
  </div>
</div>

<script>
const { createApp, ref } = Vue;
const Icons = ElementPlusIconsVue;

const app = createApp({
  setup() {
    const iframeUrl = ref('https://color-powder-app.streamlit.app/#recipe-table');

    const handleSelect = (index) => {
      switch(index){
        case '1-1': iframeUrl.value = 'https://color-powder-app.streamlit.app/#color-powder'; break;
        case '2':   iframeUrl.value = 'https://color-powder-app.streamlit.app/#customer'; break;
        case '3-1': iframeUrl.value = 'https://color-powder-app.streamlit.app/#customer-list'; break;
        case '3-2': iframeUrl.value = 'https://color-powder-app.streamlit.app/#recipe'; break;
        case '4-1': iframeUrl.value = 'https://color-powder-app.streamlit.app/#production-order'; break;
        case '4-2': iframeUrl.value = 'https://color-powder-app.streamlit.app/#outsourcing'; break;
        case '5': iframeUrl.value = 'https://color-powder-app.streamlit.app/#cross-query'; break;
        case '6-1': iframeUrl.value = 'https://color-powder-app.streamlit.app/#initial-stock'; break;
        case '6-2': iframeUrl.value = 'https://color-powder-app.streamlit.app/#usage-ranking'; break;
        case '6-3': iframeUrl.value = 'https://color-powder-app.streamlit.app/#inventory'; break;
        case '7': iframeUrl.value = 'https://color-powder-app.streamlit.app/#purchase'; break;
        case '8': iframeUrl.value = 'https://color-powder-app.streamlit.app/#sales'; break;
        case '9': iframeUrl.value = 'https://color-powder-app.streamlit.app/#accounting'; break;
        case '10': iframeUrl.value = 'https://color-powder-app.streamlit.app/#hr'; break;
        default: iframeUrl.value = 'https://color-powder-app.streamlit.app/#recipe-table';
      }
    };

    return { iframeUrl, handleSelect };
  }
});

// 註冊 Element Plus Icons
for (const [key, component] of Object.entries(Icons)) {
  app.component(key, component);
}

app.use(ElementPlus);
app.mount('#app');
</script>
</body>
</html>
