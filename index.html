<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>Color Powder 系統</title>
  <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css">
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script src="https://unpkg.com/element-plus/dist/index.full.js"></script>
  <style>
    body { margin: 0; font-family: Arial, sans-serif; }
    #app { display: flex; height: 100vh; }
    .menu { width: 220px; background: #2c3e50; color: white; }
    iframe { flex: 1; border: none; }
  </style>
</head>
<body>
<div id="app">
  <div class="menu">
    <el-menu
      default-active="1-1"
      @select="handleSelect"
      background-color="#2c3e50"
      text-color="#fff"
      active-text-color="#ffd04b"
      class="el-menu-vertical-demo"
    >
      <el-sub-menu index="1">
        <template #title>色粉管理</template>
        <el-menu-item index="1-1">色粉管理</el-menu-item>
      </el-sub-menu>
      <el-sub-menu index="2">
        <template #title>配方管理</template>
        <el-menu-item index="2-1">客戶名單</el-menu-item>
        <el-menu-item index="2-2">配方管理</el-menu-item>
      </el-sub-menu>
      <el-sub-menu index="3">
        <template #title>生產管理</template>
        <el-menu-item index="3-1">生產單</el-menu-item>
        <el-menu-item index="3-2">代工排程</el-menu-item>
      </el-sub-menu>
      <el-sub-menu index="4">
        <template #title>庫存管理</template>
        <el-menu-item index="4-1">庫存區</el-menu-item>
      </el-sub-menu>
      <el-sub-menu index="5">
        <template #title>查詢區</template>
        <el-menu-item index="5-1">Pantone色號表</el-menu-item>
        <el-menu-item index="5-2">交叉查詢區</el-menu-item>
      </el-sub-menu>
    </el-menu>
  </div>
  
  <iframe id="appFrame" :src="iframeUrl"></iframe>
</div>

<script>
const { createApp, ref } = Vue;
createApp({
  setup() {
    const iframeUrl = ref('https://color-powder-app.streamlit.app/?tab=recipe');

    const handleSelect = (index) => {
      switch(index){
        case '1-1': iframeUrl.value = 'https://color-powder-app.streamlit.app/?tab=color-powder'; break;
        case '2-1': iframeUrl.value = 'https://color-powder-app.streamlit.app/?tab=customer-list'; break;
        case '2-2': iframeUrl.value = 'https://color-powder-app.streamlit.app/?tab=recipe'; break;
        case '3-1': iframeUrl.value = 'https://color-powder-app.streamlit.app/?tab=production-order'; break;
        case '3-2': iframeUrl.value = 'https://color-powder-app.streamlit.app/?tab=outsourcing'; break;
        case '4-1': iframeUrl.value = 'https://color-powder-app.streamlit.app/?tab=inventory'; break;
        case '5-1': iframeUrl.value = 'https://color-powder-app.streamlit.app/?tab=pantone-table'; break;
        case '5-2': iframeUrl.value = 'https://color-powder-app.streamlit.app/?tab=cross-query'; break;
        default: iframeUrl.value = 'https://color-powder-app.streamlit.app/?tab=recipe';
      }
    }

    return { iframeUrl, handleSelect }
  }
}).mount('#app');
</script>
</body>
</html>
